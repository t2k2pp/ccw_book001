# 第3章: 開発・エンジニアリング（通常チャット）

## 3-1. コード生成・質問

このセクションでは、WebUIチャット（Claude.ai, ChatGPT等）でのコード生成や技術的な質問に役立つプロンプトを紹介します。

---

### 💻 特定機能のコード生成

#### 使用手法
- **Role Prompting**（経験豊富なエンジニアの役割）
- **Constraint Prompting**（言語、フレームワーク、制約の明示）
- **Few-shot Prompting**（期待するコードスタイルの例示）

#### 期待する効果
- 要件に合った高品質なコード
- ベストプラクティスに則った実装
- エラーハンドリングやエッジケースへの対応

#### 推奨モデル
- **推奨**: Claude 3.5 Sonnet, GPT-4o, Gemini 1.5 Pro
- **理由**: コード生成と技術的説明に優れる

#### 非推奨ケース
- o1等の推論モデル：単純なコード生成には過剰（複雑なアルゴリズム設計時は有効）

#### プロンプト例

````
あなたは[言語名]の経験豊富なエンジニアです。
以下の要件を満たすコードを作成してください。

【要件】
- 言語: [Python / TypeScript / Java / etc.]
- フレームワーク: [使用するフレームワーク]
- 機能: [実装したい機能の詳細]

【制約条件】
- パフォーマンス: [考慮すべき性能要件]
- 互換性: [対応すべきバージョンや環境]
- セキュリティ: [セキュリティ要件]

【コーディング規約】
- [命名規則やスタイルガイド]
- [使用を避けるべきパターン]

【期待する出力】
1. 実装コード（コメント付き）
2. 使用例
3. テストケースの提案
4. エッジケースへの対応説明

【出力形式】
## 実装コード

\`\`\`[言語]
# [ファイル名]

[コメント付きの実装コード]
\`\`\`

## 使用例

\`\`\`[言語]
# 基本的な使い方
[使用例のコード]
\`\`\`

## テストケース

\`\`\`[言語]
# テストコード例
[テストコード]
\`\`\`

## 設計のポイント
- **[ポイント1]**: [説明]
- **[ポイント2]**: [説明]

## エッジケースの処理
- **[ケース1]**: [どう処理しているか]
- **[ケース2]**: [どう処理しているか]

## 依存関係
\`\`\`
[必要なパッケージやライブラリ]
\`\`\`

上記の形式で、実用的なコードを提供してください。````

**具体例：TypeScriptでのAPI呼び出しラッパー**

```
あなたはTypeScriptの経験豊富なエンジニアです。
以下の要件を満たすコードを作成してください。

【要件】
- 言語: TypeScript
- フレームワーク: axios
- 機能: RESTful APIを呼び出すための汎用的なラッパークラス
  - GET, POST, PUT, DELETE メソッドのサポート
  - リトライ機能（最大3回、exponential backoff）
  - タイムアウト設定（デフォルト30秒）
  - エラーハンドリング（ネットワークエラー、HTTPエラー）
  - レスポンスの型安全性

【制約条件】
- パフォーマンス: 同時リクエスト数の制限（5つまで）
- 互換性: TypeScript 4.5+, Node.js 16+
- セキュリティ: 機密情報（APIキー等）はログに出力しない

【コーディング規約】
- ESLint + Prettier準拠
- クラス名はPascalCase、メソッド名はcamelCase
- async/awaitを使用（Promiseチェーンは避ける）

【期待する出力】
1. 実装コード（コメント付き）
2. 使用例
3. テストケースの提案
4. エッジケースへの対応説明
```

---

### 🔍 既存コードの理解・解説

#### 使用手法
- **Role Prompting**（技術メンターの役割）
- **Chain-of-Thought**（段階的な説明）

#### 期待する効果
- 複雑なコードの理解を促進
- 初心者でも分かる丁寧な解説
- 設計意図やベストプラクティスの学習

#### 推奨モデル
- **推奨**: Claude 3.5 Sonnet, GPT-4o
- **理由**: 教育的な説明に優れる

#### プロンプト例

````
あなたは経験豊富な技術メンターです。
以下のコードを、[初心者 / 中級者 / 上級者]にも分かるように解説してください。

【対象コード】
\`\`\`[言語]
[ここにコードを貼り付け]
\`\`\`

【解説して欲しいポイント】
- [全体の構造と役割]
- [重要な関数やクラスの動作]
- [特に理解が難しい部分]

【出力形式】
## コード概要（3行で）
[このコードが何をするものか、簡潔に説明]

## 全体構造
[ファイル構成や主要なコンポーネントの説明]

## 詳細解説

### 部分1: [関数名/クラス名]
\`\`\`[言語]
[該当部分のコード]
\`\`\`

**役割**: [何をするか]

**動作の流れ**:
1. [ステップ1の説明]
2. [ステップ2の説明]
3. [ステップ3の説明]

💡 **ポイント**: [この実装の工夫や注意点]

---

### 部分2: [関数名/クラス名]
[同様に解説]

## 使用されている技術・パターン
- **[パターン1]**: [説明]
- **[パターン2]**: [説明]

## このコードの良い点
✅ [良い点1]
✅ [良い点2]

## 改善の余地
💡 [改善提案1]
💡 [改善提案2]

## 用語解説
| 用語 | 意味 |
|------|------|
| [用語1] | [説明] |
| [用語2] | [説明] |

上記の形式で、分かりやすく解説してください。````

---

### 📚 アルゴリズム・データ構造の説明と実装

#### 使用手法
- **Chain-of-Thought**（アルゴリズムの思考プロセス）
- **Few-shot Prompting**（複数の例での動作確認）

#### 期待する効果
- アルゴリズムの理論的理解
- 実装への落とし込み
- 計算量や適用場面の理解

#### 推奨モデル
- **推奨**: GPT-4o, Claude 3.5 Sonnet, o1（複雑なアルゴリズム設計時）
- **理由**: 論理的思考とステップバイステップの説明に優れる

#### プロンプト例

```
あなたは計算機科学の専門家です。
以下のアルゴリズム/データ構造について、理論と実装の両方を説明してください。

【対象】
- アルゴリズム/データ構造: [名称]
- 言語: [実装言語]
- レベル: [初心者向け / 中級者向け / 上級者向け]

【出力形式】
## [アルゴリズム/データ構造名]

### 1. 概要
[何をするものか、どんな問題を解決するか]

### 2. 理論的背景

#### 基本的な考え方
[アルゴリズムの核心的なアイデア]

#### アプローチ
[どのようにして問題を解くか]

### 3. 動作例（ステップバイステップ）

**入力例**: [具体的な入力]

**処理の流れ**:
```
ステップ1: [状態を図示]
↓
ステップ2: [状態を図示]
↓
ステップ3: [状態を図示]
↓
...
最終結果: [出力]
````

### 4. 実装

\`\`\`[言語]
# [アルゴリズム名]の実装

[コメント付きの実装コード]
\`\`\`

### 5. 計算量分析

- **時間計算量**: O([計算量])
  - 最良: O([計算量])
  - 平均: O([計算量])
  - 最悪: O([計算量])
- **空間計算量**: O([計算量])

**解説**: [なぜこの計算量になるか]

### 6. 使用例

\`\`\`[言語]
# 実際の使用例
[使用例のコード]
\`\`\`

**出力**:````
[実行結果]
```

### 7. 適用場面
- ✅ **適している場面**: [具体例]
- ❌ **適していない場面**: [具体例]

### 8. 関連するアルゴリズム/データ構造
- [関連項目1]: [簡単な説明]
- [関連項目2]: [簡単な説明]

### 9. 実装上の注意点
⚠️ [注意点1]
⚠️ [注意点2]

上記の形式で、理論と実装の両方を説明してください。
```

---

### ❓ エラーメッセージの解読と解決策

#### 使用手法
- **Chain-of-Thought**（エラーの原因究明プロセス）
- **Role Prompting**（デバッグ専門家の役割）

#### 期待する効果
- エラーの原因を正確に理解
- 複数の解決策を比較検討
- 再発防止策の提案

#### 推奨モデル
- **推奨**: Claude 3.5 Sonnet, GPT-4o
- **理由**: エラー分析と解決策提案に優れる

#### プロンプト例

````
あなたは経験豊富なデバッグ専門家です。
以下のエラーについて、原因と解決策を段階的に説明してください。

【エラー情報】
- 言語/フレームワーク: [環境]
- エラーメッセージ:
\`\`\`
[エラーメッセージ全文]
\`\`\`

- 発生箇所のコード:
\`\`\`[言語]
[エラーが発生したコード]
\`\`\`

- 実行環境: [OS, バージョン等]
- 再現手順: [エラーが発生する手順]

【分析ステップ】
ステップ1: エラーメッセージの解読
ステップ2: 考えられる原因の列挙
ステップ3: 最も可能性の高い原因の特定
ステップ4: 解決策の提示
ステップ5: 再発防止策の提案

【出力形式】
## エラー分析レポート

### 1. エラーメッセージの解読
**要約**: [エラーを一言で説明]

**詳細**:
- [エラーメッセージの各部分を解説]

### 2. 考えられる原因

#### 原因候補1: [原因]
- **可能性**: [高/中/低]
- **理由**: [なぜこの原因が考えられるか]
- **確認方法**: [この原因かどうか確認する方法]

#### 原因候補2: [原因]
[同上]

### 3. 最も可能性の高い原因
🎯 **[原因名]**

**根拠**:
- [なぜこれが最も可能性が高いか]

### 4. 解決策

#### 解決策1: [タイトル]（推奨）
**手順**:
1. [ステップ1]
2. [ステップ2]
3. [ステップ3]

**修正後のコード**:
\`\`\`[言語]
[修正したコード]
\`\`\`

**説明**:
[なぜこの修正で解決するか]

---

#### 解決策2: [タイトル]（代替案）
[同上]

### 5. 解決策の比較

| 解決策 | 実装難易度 | 保守性 | パフォーマンス | 推奨度 |
|--------|------------|--------|----------------|--------|
| 解決策1 | [評価] | [評価] | [評価] | ⭐⭐⭐ |
| 解決策2 | [評価] | [評価] | [評価] | ⭐⭐ |

### 6. 再発防止策
- [ ] [防止策1]
- [ ] [防止策2]
- [ ] [防止策3]

### 7. 関連するベストプラクティス
💡 [このエラーを避けるためのベストプラクティス]

### 8. 参考資料
- [公式ドキュメントへのリンクや参考になる情報]

上記の形式で、実用的なエラー分析を提供してください。````

---

### 🔧 ベストプラクティスの質問

#### 使用手法
- **Role Prompting**（アーキテクトの視点）
- **Persona-based Prompting**（チームの状況を考慮）

#### 期待する効果
- 状況に応じた最適な設計判断
- トレードオフの理解
- チーム全体での合意形成の支援

#### 推奨モデル
- **推奨**: Claude 3.5 Sonnet, GPT-4o, o1（アーキテクチャ設計時）
- **理由**: 設計判断とトレードオフの説明に優れる

#### プロンプト例

````
あなたは経験豊富なソフトウェアアーキテクトです。
以下の状況において、ベストプラクティスを教えてください。

【状況】
- プロジェクト規模: [小規模 / 中規模 / 大規模]
- チーム構成: [人数とスキルレベル]
- 技術スタック: [使用している技術]
- 制約条件: [時間、予算、技術的制約等]

【質問】
[具体的な技術的疑問や設計上の判断が必要な点]

【出力形式】
## ベストプラクティス提案

### 1. 質問の整理
[質問内容を明確に再定義]

### 2. 考慮すべき要素
- **[要素1]**: [説明]
- **[要素2]**: [説明]
- **[要素3]**: [説明]

### 3. アプローチの比較

#### アプローチ1: [アプローチ名]
**概要**: [このアプローチの説明]

**メリット**:
✅ [メリット1]
✅ [メリット2]

**デメリット**:
❌ [デメリット1]
❌ [デメリット2]

**適している状況**: [どんな場合に最適か]

---

#### アプローチ2: [アプローチ名]
[同上]

---

#### アプローチ3: [アプローチ名]
[同上]

### 4. 推奨アプローチ
🎯 **[アプローチ名]**

**理由**:
あなたの状況（[具体的な状況]）を考慮すると、以下の理由でこのアプローチを推奨します：
1. [理由1]
2. [理由2]
3. [理由3]

### 5. 実装例

\`\`\`[言語]
// 推奨アプローチの実装例
[コード例]
\`\`\`

### 6. トレードオフ
この選択には以下のトレードオフがあります：
- [トレードオフ1]
- [トレードオフ2]

### 7. 移行パス（別のアプローチからの変更が必要な場合）
1. [移行ステップ1]
2. [移行ステップ2]
3. [移行ステップ3]

### 8. 参考事例
- **[企業/プロジェクト名]**: [どのように実装しているか]
- **[企業/プロジェクト名]**: [どのように実装しているか]

### 9. 追加の推奨事項
💡 [関連するベストプラクティスや注意点]

上記の形式で、実践的なアドバイスを提供してください。````

---

### 📖 APIやライブラリの使い方

#### 使用手法
- **Few-shot Prompting**（複数の使用例）
- **Constraint Prompting**（特定のユースケースに特化）

#### 期待する効果
- 公式ドキュメントより分かりやすい実例
- よくあるユースケースへの対応
- エラーハンドリングのパターン

#### 推奨モデル
- **推奨**: Claude 3.5 Sonnet, GPT-4o, Gemini 1.5 Pro
- **理由**: 実用的なコード例の生成に優れる

#### プロンプト例

````
以下のAPI/ライブラリの使い方を、実用的な例とともに説明してください。

【対象】
- API/ライブラリ名: [名称]
- バージョン: [バージョン]
- 言語: [言語]

【知りたいこと】
- [具体的に実現したい機能や使い方]

【出力形式】
## [API/ライブラリ名]の使い方ガイド

### 1. 概要
[このAPI/ライブラリは何をするものか]

### 2. インストール/セットアップ

\`\`\`bash
# インストールコマンド
[インストール方法]
\`\`\`

\`\`\`[言語]
// 初期設定
[初期設定のコード]
\`\`\`

### 3. 基本的な使い方

#### 例1: [ユースケース1]
**目的**: [何をしたいか]

\`\`\`[言語]
// [ユースケース1]の実装
[コード例]
\`\`\`

**出力**:````
[実行結果]
````

**ポイント**:
- [重要なポイント1]
- [重要なポイント2]

---

#### 例2: [ユースケース2]
[同様の形式]

---

#### 例3: [ユースケース3]
[同様の形式]

### 4. よくあるパターン

#### パターン1: [パターン名]
\`\`\`[言語]
[よく使われるパターンのコード]
\`\`\`

#### パターン2: [パターン名]
\`\`\`[言語]
[よく使われるパターンのコード]
\`\`\`

### 5. エラーハンドリング

\`\`\`[言語]
// 適切なエラーハンドリングの例
[エラーハンドリング付きのコード]
\`\`\`

### 6. ベストプラクティス
✅ [ベストプラクティス1]
✅ [ベストプラクティス2]
✅ [ベストプラクティス3]

### 7. よくある間違い
❌ **間違い1**: [よくある間違い]
✅ **正しい方法**: [正しい実装]

❌ **間違い2**: [よくある間違い]
✅ **正しい方法**: [正しい実装]

### 8. パフォーマンス最適化のヒント
💡 [最適化のポイント1]
💡 [最適化のポイント2]

### 9. 参考リンク
- [公式ドキュメント]
- [サンプルコードリポジトリ]

上記の形式で、実用的な使い方ガイドを作成してください。````

---

## まとめ

このセクションでは、以下の通常チャットでのコード生成・質問タスクに対応するプロンプトを紹介しました：

| タスク | 主要手法 | 推奨モデル |
|--------|----------|------------|
| コード生成 | Role + Constraint + Few-shot | Claude 3.5 Sonnet, GPT-4o |
| コード解説 | Role + CoT | Claude 3.5 Sonnet, GPT-4o |
| アルゴリズム説明 | CoT + Few-shot | GPT-4o, Claude 3.5 Sonnet, o1 |
| エラー解決 | CoT + Role | Claude 3.5 Sonnet, GPT-4o |
| ベストプラクティス | Role + Persona | Claude 3.5 Sonnet, GPT-4o, o1 |
| API使い方 | Few-shot + Constraint | Claude 3.5 Sonnet, GPT-4o |

次のセクションでは、デバッグ・エラー解決に関するプロンプトを紹介します。
